<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hello Hexo</title>
    <link href="/2020/10/16/hello-world/"/>
    <url>/2020/10/16/hello-world/</url>
    
    <content type="html"><![CDATA[<h4 id="随口说说"><a href="#随口说说" class="headerlink" title="随口说说"></a>随口说说</h4><p>今天开始正式写些东西，根据hexo和fluid的文档把基础的东西配了一下，感觉还挺好看的</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>去官网安装nodejs和git这是必备的，安装完成后</p><pre><code class="hljs shell">npm i hexo -g hexo init blog ## 初始化blog</code></pre><p> 这是npm给的下载5.2.0版本的指令，不明白为啥npm install hexo -g 这条指令会下载4.2.0版本，明明啥区别的。</p><p>相关hexo指令</p><pre><code class="hljs shell">hexo init ##初始化hexo new [layout] [tittle] ##新建页面/文章-p --path ##指定路径-r --replace ##替换同名-s --slug ##没看懂这句是干啥的hexo generate/g ##生成网页-d --deploy ##部署-w --watch ##观察文件改动-f --force ##强制重新生成文件hexo publish [layout] &lt;filename&gt; ##发布草稿hexo server ##启动服务，本地加载hexo deploy ##部署网站hexo clean ##清空缓存文件</code></pre><p>然后是<a href="https://hexo.fluid-dev.com/docs/guide/">fluid</a>这是它的官方手册其中有很多详细的介绍，我只是进行了初步的改动，之后再打算详细的设置一下，比如统计啊，还有各个页面的壁纸高度不对（看着是真的别扭）</p><h4 id="服务器设置"><a href="#服务器设置" class="headerlink" title="服务器设置"></a>服务器设置</h4><p>首先安装nginx，并配置开机自启</p><pre><code class="hljs bash">apt-get install nginxapt install sysv-rc-confsysv-rc-conf nginx on</code></pre><p>然后配置远程仓库</p><pre><code class="hljs bash"><span class="hljs-comment"># 随便在哪里创建都可以</span><span class="hljs-built_in">cd</span> /blog<span class="hljs-comment"># 初始化一个仓库 </span>git init --bare hexo.git <span class="hljs-built_in">cd</span> /hexo.git/hooks<span class="hljs-comment">#这个文件中的脚本会监听这个git的仓库的每一次push上来的事件，push到这个仓库一次，里面的脚本就执行一次</span></code></pre><p>然后在新建一个post-receive，写入</p><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><span class="hljs-comment"># 前面的/blog/hexo与nginx配置挂载的目录一致</span>git --work-tree=/blog/hexo --git-dir=/blog/hexo.git checkout -f</code></pre><p>nginx配置<br>在/etc/nginx/sites-enabled下新建一个hexo文件，写入</p><pre><code class="hljs conf">server &#123; listen  80; #再写一个443 root   &#x2F;www&#x2F;hexo; # 这里的意思是挂载&#x2F;www&#x2F;hexo目录 location &#x2F; &#123;      index  index.html index.htm; &#125;&#125;</code></pre><p>配置本地hexo的_config.yml</p><pre><code class="hljs yml"><span class="hljs-attr">deploy:</span><span class="hljs-attr">type:</span> <span class="hljs-string">git</span> <span class="hljs-attr">repo:</span> <span class="hljs-string">用户名@ip地址:/www/hexo.git</span><span class="hljs-attr">branch:</span> <span class="hljs-string">master</span></code></pre><p>然后尝试推送就好了</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>blog</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
